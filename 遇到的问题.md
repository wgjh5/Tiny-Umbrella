#### 1. antdUIç”¨æ—¶

```bash
ç”¨`antdui`æ—¶è®°å¾—è¦æŠŠ`css`æ‰¾åˆ°ï¼Œè¦ä¸ç„¶å‡ºä¸æ¥
```

#### 2. reduxè®°ä½switch

```bash
ä½¿ç”¨reduxæ—¶ï¼Œè®°ä½ä¸€å®šè¦æŠŠä¸œè¥¿åœ¨ä»“åº“å°±å…ˆreturnå‡ºæ¥ï¼Œè¦ä¸ç„¶å¤–è¾¹æ‹¿ä¸åˆ°
  switch (action.type) {
    //   case 'toggleSheet':
    //     return {
    //         ...state,
    //         isShowActionSheet:action.isShowActionSheet
    //     }
      default:
        return state
    }
```

#### 3. reactè·¯ç”±è®¾ç½®ã€åŠé‡å®šå‘

```bash
è·¯ç”±å†²å®šå‘æ—¶ä¼šæŠ¥é”™ï¼Œè®°å¾—è¦å¼•å…¥	**import { HashRouter  as Router, Route , Redirect ,Switch} from 'react-router-dom'

===========
ç”¨switchåŒ…ä½ä½ çš„è·¯ç”±åˆ¤æ–­é‚£é‡Œ
<Switch>
    <Route path="/home/" component={Home} />
    <Redirect from="/" exact  to="/home/HomeIndex" />
</Switch>

===============
åœ¨linké‡Œé¢è¦æŠŠæ™®é€šçš„`to`æ”¹æˆ`to={ {pathname:`/home/${item.href}` }}  replace`

```

#### 4. reduxä¿®æ”¹ä»“åº“ä¸­æ•°ç»„çš„æŸä¸€é¡¹ã€å®ç°è”åŠ¨æ•ˆæœ

```bash
å¦‚æœä½ è¦æ˜¯æƒ³é€šè¿‡ç‚¹å‡»äº‹ä»¶è§¦å‘ä»“åº“ä¸­çš„æŸä¸€ä¸ªå€¼ï¼Œæ˜¯æ•°ç»„çš„æƒ…å†µä¸‹ï¼Œä½ éœ€è¦éå†ä»“åº“ä¸­çš„æ•°ç»„ï¼ŒæŠŠä½ è¦å˜å¾—ç´¢å¼•ä¼ è¿‡æ¥ï¼Œç„¶åè®©å…¶ä»–çš„ä¸å˜ï¼Œä¾‹å¦‚ï¼š
const store = createStore(function (state = {
    navs: [{
      title: 'æ¨è',
      href: 'recommend',
      isShow:true,
      recommend: []
    }, {
      title: 'å°‘å„¿',
      href: 'children',
      isShow:false,
      children: []
    }, {
      title: 'æˆäºº',
      href: 'adult',
      isShow:false,
      adult: []
    }, {
      title: 'çˆ¶æ¯',
      href: 'parents ',
      isShow:false,
      parents: []
    }, {
      title: 'å®¶åº­',
      href: 'family',
      isShow:false,
      family: []
    }, {
      title: 'æ—…è¡Œ',
      href: 'travel',
      isShow:false,
      travel: []
    }]
  } ,action) {
  switch (action.type) {
      case 'isActive': 
      var  {navs}  = state		 // æŠŠä»“åº“èµ‹å€¼ç»™navs
      for(var i=0;i<navs.length;i++){	 // éå†navsä»“åº“ï¼Œæ‰¾åˆ°ä½ è¦çš„ä¸œè¥¿
        navs[i].isShow=false
        navs[action.index].isShow =action.isShow
        console.log(navs[i])
      }
      navs.isShow = action.noShow
        return {
            ...state,
            isShow:false
        }
    default:
      return state
  }
})
===============è§¦å‘é‚£è¾¹==============

export default connect((state)=>{
    return state    
} , (dispatch) => {
    return {
        isActive(index){
            console.log(this.props)
            this.setState({
                isActive:index		//ä¿®æ”¹æœ¬åœ°çš„å†…å®¹
            })
            dispatch({
                type:"isActive",
                index: index,	//ä¼ ç´¢å¼•`index`
                isShow:true		//ä¼ çŠ¶æ€
              })
        }
    }
})(Xnav);
```

#### 5. ä¸è¦å†™é”™è·¯ç”±`å­—æ¯`

#### 6. è·¯ç”±åµŒå¥—é—®é¢˜

> åœ¨å“ªä¸ªé¡µé¢çš„äºŒçº§è·¯ç”±ï¼Œå°±å†™åœ¨å“ªä¸ªé¡µé¢ï¼Œä¾‹å¦‚ï¼šä½ è¦åœ¨é¦–é¡µå†™äºŒçº§è·¯ç”±ï¼Œä½ å°±æŠŠäºŒçº§è·¯ç”±å†™åœ¨é¦–é¡µï¼Œ
>
> ç„¶åä¸€çº§è·¯ç”±ä¼šåŸºäºä½ äºŒçº§è·¯ç”±è·³è½¬çš„è·¯å¾„è·³è½¬ï¼Œæ‰€ä»¥ä½ è¦åŠ ä¸ªæ–œæ `/`åœ¨ä¸€çº§è·¯ç”±é‚£é‡Œ`/${item.href}` 

```bash
 ===================äºŒçº§è·¯ç”±homeå†™æ³•=====================
 <Route path='/home/Xrecommend' component={Xrecommend} />
 <Route path="/home/Xchildren"  component={Xchildren} />
 <Route path="/home/Xadult" component={Xadult} />
 <Route path="/home/Xparents" component={Xparents} />
 <Route path="/home/Xfamily" component={Xfamily} />
 <Route path="/home/Xtravel" component={Xtravel} />
 
 =============ä¸€çº§è·¯ç”±è·³è½¬ç¨³çš„å†™æ³•=============
  <Link to={ {pathname:`/${item.href}` }}  replace key={index} onClick={this.toggleClass.bind(this,index)}  className={this.state.tab===index? "public_tab_item active" : "public_tab_item"} id={item.dataId}>
  <div className="public_tab_info">
  <p className={`public_tab_icon ${item.dataClass}`}></p>
  <p>{item.title}</p>
  </div>	
  </Link>
```

#### 7. ç±»åæ‰“å›æ¥

> å¦‚æœä½ è¦æ˜¯æƒ³è¦ç±»ååˆ·æ–°æ‰“å›æ¥ï¼Œå¿…é¡»è·å–åˆ°è·¯å¾„ï¼Œæ ¹æ®è·¯å¾„çš„å˜åŒ–ï¼Œåˆ¤ç«¯æ‰“åœ¨é‚£ä¸ªä¸œè¥¿ä¸‹é¢ï¼Œä¾‹å¦‚ï¼š
>
> `window.location.hash.slice(2) `[å‚è€ƒé“¾æ¥](http://www.cnblogs.com/icaihua/p/9869846.html)

```bash
 switch (window.location.hash.slice(2)) {
        case "/home/Xrecommend":
          this.state.tab=0
          break;
          case "bestchoice":
          this.state.tab=1
          break;
          case "search":
          this.state.tab=2
          break;
          case "mine":
          this.state.tab=3
          break;
        default: this.state.tab=0
          break;
      }
  }
  **ç„¶åä¸‹é¢æ ¹æ®è·¯å¾„å˜åŒ–æ‰“ç±»å
  
 =============æ­£å¸¸æ–¹æ³•================
 // æ ¹æ®è·¯å¾„ç»™togoleclassèµ‹å€¼
     switch (props.location.pathname) {
      case "/home/Xrecommend":
      this.state.togolleClass=0
        break;
        case "/home/Xchildren":
      this.state.togolleClass=1
        break;
        case "/home/Xadult":
      this.state.togolleClass=2
        break;
        case "/home/Xparents":
      this.state.togolleClass=3
        break;
    case "/home/Xfamily":
      this.state.togolleClass=4
        break;
    case "/home/Xtravel":
      this.state.togolleClass=5
        break;
      default:
        this.state.togolleClass=0
        break;
    }
    ===========ä¼ å€¼ç»™å­ç»„ä»¶==========
    <Xnav tab={this.state.togolleClass}/>
    ==========æ¥æ”¶============
    this.props = props; 
    ===========èµ‹å€¼==============
    this.state = {
        isActive:this.props.tab
       
    }
  //ç„¶åä¸‹é¢æ ¹æ®ä¸‰å…ƒæ­£å¸¸åˆ¤æ–­å³å¯  
```

#### 8. ä¸¥é€‰é¡µæ ¹æ®ç‚¹å‡»äº‹ä»¶ä¸–äº‹å˜åŒ–ï¼Œåˆ‡æ¢é€‰é¡¹å¡é—®é¢˜

> ä¸èƒ½ç”¨reduxï¼Œå› ä¸ºä½ çš„propsä¸èƒ½å½“ä½ æ¯ç‚¹å‡»ä¸€æ¬¡éƒ½èƒ½å®æ—¶æ›´æ–°ï¼Œåªæœ‰å½“ä½ åˆ·æ–°é¡µé¢æ—¶æ‰ä¼šæ›´æ–°ï¼Œæ‰€ä»¥ç”¨`å‘å¸ƒè®¢é˜…æ¨¡å¼`emitå‘é€ï¼Œonç›‘å¬æ¥æ”¶ï¼Œä»¥è¾¾åˆ°å®æ—¶çš„æ•ˆæœï¼Œä¾‹å¦‚ï¼š

```bash
=============å‘é€æ•°æ®`ç´¢å¼•`==============
store.emit("show",index);

=============æ¥æ”¶æ•°æ®ï¼ŒæŠŠæ•°æ®å­˜åˆ°æœ¬åœ°ä»“åº“=====================
  componentDidMount(){
        store.on("show",(data)=>{
            console.log(data);
            this.setState({
                content:data
            })
        })
    
    }
 ç„¶åæ ¹æ®this.state.contentçš„`æ•°å€¼ç´¢å¼•`å‡ºç°ä¸åŒçš„é€‰é¡¹å¡
```

#### 9.é‚®ç®±éªŒè¯ç æ­¥éª¤åŠæ€è·¯

> æ€è·¯ï¼šå½“ä½ ç‚¹å‡»å‘é€éªŒè¯ç æ—¶ï¼Œå‘èµ·ajaxè¯·æ±‚ï¼Œåç«¯ç”ŸæˆéªŒè¯ç ï¼Œå‘é€åˆ°ä½ ä¸Šé¢`æ³¨å†Œ`çš„é‚®ç®±ï¼Œåç«¯ç¼“å­˜éªŒè¯ç ï¼Œç•™åˆ°ç”¨æˆ·æ‹¿åˆ°éªŒè¯ç è¾“å…¥æ—¶è¿›è¡Œæ¯”å¯¹ï¼Œæ­£ç¡®ï¼Œåˆ™æ’å…¥æ•°æ®åº“ï¼Œå¤±è´¥ä¸æ’å…¥

- å…ˆä¸‹è½½æ¨¡å—`nodemailer`

```bash
cnpm install nodemailer --save-dev
```

- å¼•å…¥æ¨¡å—

```bash
const nodemailer = require('nodemailer');	//å¼•å…¥æ¨¡å—
let transporter = nodemailer.createTransport({
    service: 'qq',	//ç±»å‹qqé‚®ç®±
    port: 465,
    secure: true, // true for 465, false for other ports
    auth: {
        user:'854453495@qq.com', // å‘é€æ–¹çš„é‚®ç®±
        pass: 'vrtjembbhfcmbegj' // smtp çš„æˆæƒç 
    }
});


function sendMail(mail,code,call){
    // å‘é€çš„é…ç½®é¡¹
    let mailOptions = {
        from: '"Fred Foo ğŸ‘»" <854453495@qq.com>', // å‘é€æ–¹
        to: mail, // æ¥æ”¶æ–¹
        subject: 'æ¬¢è¿æ³¨å†Œâ€œå°é›¨ä¼â€ä¿é™©ï¼', // æ ‡é¢˜
        text: 'Hello world?', // æ–‡æœ¬å†…å®¹
        html: `<h1>æ‚¨çš„éªŒè¯ç æ˜¯:${code},è¯·æ³¨æ„å®‰å…¨æ€§ï¼Œè¯¥éªŒè¯ç æœ‰æ•ˆæœŸä¸º 5åˆ†é’Ÿ</h1>`//é¡µé¢å†…å®¹
    };

   //å‘é€å‡½æ•°
    transporter.sendMail(mailOptions, (error, info) => {
    if (error) {
       call(-1)
    }
     call(0)//å› ä¸ºæ˜¯å¼‚æ­¥ æ‰€æœ‰éœ€è¦å›è°ƒå‡½æ•°é€šçŸ¥æˆåŠŸç»“æœ

    });

}

module.exports={sendMail}
```

- æ¥æ”¶å‰ç«¯è·¯ç”±å¤„

```bash
var express = require('express');
var router = express.Router();
var db = require('../lib/db.js');
var email = require('./sendEmail.js');	//å¼•å…¥å°è£…å¥½çš„å‡½æ•°
console.log(email)
//è§£å†³è·¨åŸŸé—®é¢˜
router.all('*', function (req, res, next) {
  res.header('Access-Control-Allow-Origin', '*');
  //Access-Control-Allow-Headers ,å¯æ ¹æ®æµè§ˆå™¨çš„F12æŸ¥çœ‹,æŠŠå¯¹åº”çš„ç²˜è´´åœ¨è¿™é‡Œå°±è¡Œ
  res.header('Access-Control-Allow-Headers', 'Content-Type');
  res.header('Access-Control-Allow-Methods', '*');
  res.header('Content-Type', 'application/json;charset=utf-8');
  next();
});

/* GET users listing. */
router.get('/', function(req, res, next) {
  res.send('respond with a resource');
});


let check={}	//å£°æ˜ä¸€ä¸ªå¯¹è±¡ç¼“å­˜é‚®ç®±å’ŒéªŒè¯ç ï¼Œç•™ç€
router.post('/email', function(req, res, next) {
    console.log(req.body.params)
    let mail=req.body.params.email
    if (!mail) {return res.send('å‚æ•°é”™è¯¯')}	//emailå‡ºé”™æ—¶æˆ–è€…ä¸ºç©ºæ—¶
    let code = parseInt(Math.random(0,1)*10000)	//ç”ŸæˆéšæœºéªŒè¯ç 
    check[mail]=code
    //å‘é€é‚®ä»¶
     email.sendMail(mail,code,(state)=>{
            if (state) {
                res.send('éªŒè¯ç å‘é€æˆåŠŸ')
            }else{
               res.send('éªŒè¯ç å‘é€å¤±è´¥')
            }
            
      })
   
  
});
router.post('/login', function(req, res, next) {
    console.log(req.body.params)
     db.query(function(db) { //è¿™é‡Œè¦ç”¨å‡½æ•°
        db.collection("login").insertMany([req.body.params], function(err, result) {

            res.send('succees');
        });
    })

});
module.exports = router;




```

#### 10.è·¯ç”±è·å–æ–¹æ³•

> æ€è·¯ï¼šåœ¨æœ€å¤§çš„ç»„ä»¶è·å–åˆ°è·¯ç”±ï¼Œé€šè¿‡propsæ–¹æ³•ä¼ åˆ°éœ€è¦çš„å­ç»„ä»¶å»
>
> å¤‡æ³¨ï¼šå› ä¸ºå°ç»„ä»¶æ‹¿ä¸åˆ°props

```bash
var url = this.props.loction.pathname
<Xheader url={url}/>
```

#### 11.è·¯ç”±è·³è½¬çš„ä¸¤ç§æ–¹å¼

> å¤‡æ³¨ï¼šå¦‚æœä¸æ˜¯éœ€è¦æ³¨å†Œç™»å½•é‚£ç§åˆ¤æ–­ï¼Œç”¨Linkå³å¯ï¼Œå¿«ã€å‡†ã€ç‹ ï¼

- Linkæ–¹å¼

```bash
import { Link  } from 'react-router-dom'

<Link to={ {pathname:`/${item.href}` }}  replace > </Link>
```

- withRouter æ–¹å¼

```bash
import { withRouter   } from 'react-router-dom'
===========React-Router 2.4.0ç‰ˆæœ¬ä»¥ä¸Š=========
import { withRouter } from 'react-router';
clsss ABC extends Component {
}
module.exports = withRouter(ABC);

===========React-Router 3.0.0ç‰ˆæœ¬ä»¥ä¸Š=========
this.props.router.push('/home/Xrecommend')

===========React-Router 4.0ç‰ˆæœ¬ä»¥ä¸Š===========
this.props.history.push('/home/Xrecommend')
```

#### 12.å‚æ•°çš„è·å–

```bash
ä½¿ç”¨`this.props.match.params.xxx` å¯ä»¥è·å–åˆ°å½“å‰è·¯ç”±çš„å‚æ•°
```

#### 13.react `cookie`ç”¨æ³•

- å…ˆä¸‹è½½æ¨¡å—

```bash
cnpm install  react-cookie --save-dev
```

- å¼•å…¥

```
import cookie from 'react-cookies'
```

- å­˜å…¥`cookie`

```visual basic
cookie.save('userId', this.state.value)ï¼›
```

- åˆ é™¤`cookie`

```
cookie.remove('userId')
```

- è·å–`cookie`

```
select([regex])
this.state =  { userId: cookie.load('userId') };
```

#### 14.Reactçš„Sassé…ç½®

- å…ˆä¸‹è½½

```bash
npm install sass-loader node-sass --save-dev
```

- æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œ

```bash
node_modules/react-scripts/config/webpack.config.dev.js
```

- æ‰¾åˆ°moduleä¸‹çš„rulesï¼Œç„¶åæ‰¾åˆ°æœ€åä¸€ä¸ªé…ç½®ï¼Œä¿®æ”¹æˆå¦‚ä¸‹çš„æ ·å­ 

```bash
{

Â Â Â Â exclude: [/\.js$/,/\.html$/,/\.json$/,/\.scss$/],

Â Â Â Â loader: require.resolve('file-loader'),

Â Â Â Â options: {

Â Â Â Â Â Â Â Â Â Â Â Â name: 'static/media/[name].[hash:8].[ext]',

Â Â Â Â Â Â Â Â },

},

{

Â Â Â Â test:/\.scss$/,

Â Â Â Â loaders:['style-loader','css-loader','sass-loader']

}

å¤‡æ³¨ï¼šå¦‚æœä¸è¡Œçš„è¯ï¼Œå†æŠŠ`webpack.config.prod.js`ä¹Ÿå˜æˆåŒæ ·çš„é…ç½®
```

